var Adjectif = require('./model').Adjectif;

var adjList = [];

adjList.push(new Adjectif({base : "Absolu", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Admirable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Agréable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Aimable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Amusant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Apocalyptique", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Approximatif", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Attachant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Banal", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Bas", feminin : "se", random : Math.random() }));
adjList.push(new Adjectif({base : "Bavarois", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Bien", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Bof", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Bon", feminin : "ne", random : Math.random() }));
adjList.push(new Adjectif({base : "Bouleversant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Boute-en-train", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Captivant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Caractériel", feminin : "le", random : Math.random() }));
adjList.push(new Adjectif({base : "Cataclysmique", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Catastrophique", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Céleste", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Charmant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Chef-d’œuvre", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Chouette", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Commun", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "convenable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Convivial", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Coquet", feminin : "te", random : Math.random() }));
adjList.push(new Adjectif({base : "Correct", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Crédible", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Croquant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Cynique", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Dégueulasse", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Délectable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Délicieux", feminin : "se", random : Math.random() }));
adjList.push(new Adjectif({base : "Disjoncté", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Divin", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Doux", feminin : "ce", random : Math.random() }));
adjList.push(new Adjectif({base : "Doué", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Drôle", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Éblouissant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Ébouriffé", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Efficace", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Emballant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Émouvant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Endiablé", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Ennuyant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Enragé", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Enthousiasmant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Épatant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Époustouflant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Épouvantable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Équitable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Exaltant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Exceptionnel", feminin : "le", random : Math.random() }));
adjList.push(new Adjectif({base : "Excusable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Exemplaire", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Extra moelleux", feminin : "se", random : Math.random() }));
adjList.push(new Adjectif({base : "Féru", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Festif", feminin : "ve", random : Math.random() }));
adjList.push(new Adjectif({base : "Flamboyant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Formidable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Grandiose", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Hardi", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Honnête", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Horrible", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Important", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Impressionnant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Inconnu", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Incrédule", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Indépendant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Infernal", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Innommable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Insignifiant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Insuffisant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Insupportable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Intenable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Intéressant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Irrésistible", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Libidineux", feminin : "se", random : Math.random() }));
adjList.push(new Adjectif({base : "Louable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Majestueux", feminin : "se", random : Math.random() }));
adjList.push(new Adjectif({base : "Magistral", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Magnifique", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Médiocre", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Merdique", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Merveilleux", feminin : "se", random : Math.random() }));
adjList.push(new Adjectif({base : "Mignon", feminin : "ne", random : Math.random() }));
adjList.push(new Adjectif({base : "Minable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Mirobolant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Mortel", feminin : "le", random : Math.random() }));
adjList.push(new Adjectif({base : "Moyen", feminin : "ne", random : Math.random() }));
adjList.push(new Adjectif({base : "Négligeable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Nul", feminin : "le", random : Math.random() }));
adjList.push(new Adjectif({base : "Ordinaire", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Original", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Parfait", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Pas pire", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Passable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Passionnant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Percutant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Persévérant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Phénoménal", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Placide", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Plaisant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Prestant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Prodigieux", feminin : "se", random : Math.random() }));
adjList.push(new Adjectif({base : "Proverbial", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Quelconque", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Ravissant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Recyclé", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Relatif", feminin : "ve", random : Math.random() }));
adjList.push(new Adjectif({base : "Remarquable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Renversant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Révolutionnaire", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Rocambolesque", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Rutilant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Saint", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Satisfaisant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Séduisant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Sexy", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Somptueux", feminin : "se", random : Math.random() }));
adjList.push(new Adjectif({base : "Spiritueux", feminin : "se", random : Math.random() }));
adjList.push(new Adjectif({base : "Splendide", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Suave", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Sublime", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Sulfureux", feminin : "se", random : Math.random() }));
adjList.push(new Adjectif({base : "Superbe", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Suprême", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Supportable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Talentueux", feminin : "se", random : Math.random() }));
adjList.push(new Adjectif({base : "Tolérable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Tragique", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Trépidant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Très bon", feminin : "ne", random : Math.random() }));
adjList.push(new Adjectif({base : "Troublant", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Valable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Valeureux", feminin : "se", random : Math.random() }));
adjList.push(new Adjectif({base : "Vénérable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Vitaminé", feminin : "e", random : Math.random() }));
adjList.push(new Adjectif({base : "Vivable", feminin : "", random : Math.random() }));
adjList.push(new Adjectif({base : "Vulgaire", feminin : "", random : Math.random() }));

var vowels = ['a', 'e', 'i', 'o', 'u', 'y', 'é', 'è', 'h'];
var endings = ['x', 'f'];

exports.populate = function(){
	console.log('Populating adjectif collection...');
	Adjectif.find().exec(function(err, docs){
		if(!docs || docs.length === 0){
			for(var i = 0; i < adjList.length; i++){
				adjList[i].save();
			}
			console.log('Adjectif collection populated');
		}else{
			console.log('Adjectif collection is not empty');
		}
	});
}

exports.empty = function(){
	Adjectif.find().exec(function(err, docs){
		for(var i = 0; i< docs.length; i++){
			docs[i].remove();
		}
	});
}

exports.getName = function(original, gender, callback){
	gender = gender || false;
	var rand = Math.random();
	Adjectif.findOne({random : {$gte : rand}}, function(err, doc1){
		if(err){
			console.log(err)
		}else{
			if(!doc1){
				Adjectif.findOne({random : {$gte : rand}}, function(err, doc2){
					if(err){
						console.log(err)
					}else{
						var name = buildName(original, gender, doc2);
						callback(name);
					}
				});
			}else{
				var name = buildName(original, gender, doc1);
				callback(name);
			}
		}
	});
}

var buildName = function(original, gender, adjectif){
	var firstLetter = adjectif.base[0].toLowerCase();
	var lastLetter = adjectif.base[adjectif.base.length - 1].toLowerCase();
	var pre = '';
	if(vowels.indexOf(firstLetter) === -1){//not a vowel
		pre = gender ? ' la ' : ' le ';
	}else{
		pre = ' l\'';
	}
	if(gender && endings.indexOf(lastLetter) !== -1){
		adjectif.base = adjectif.base.substring(0, adjectif.base.length - 1);
	}
	var post = adjectif.base.toLowerCase();
	post += gender ? adjectif.feminin : '';
	return original + pre + post;
}